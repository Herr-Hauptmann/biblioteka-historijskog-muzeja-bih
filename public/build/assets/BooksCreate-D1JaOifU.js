import{C as z,l as p,c as f,o as h,a as o,u as l,m as D,w as j,b as e,f as F,i as a,j as d,F as x,k as A,t as w,p as C}from"./app-DOJjKQUX.js";import{_ as M}from"./AuthenticatedLayout-DHqg7U0m.js";import{_ as m}from"./InputError-Bnes0oqH.js";import{_ as b}from"./FormInputLabel-CB1r9thj.js";import{r as K,S}from"./SelectWithSearch-WPFabOnp.js";import{C as N}from"./Content-Cb1M-izT.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./transition-CDbftH8o.js";import"./keyboard-CsV0scs_.js";import"./use-resolve-button-type-B4H3Y3le.js";const E={class:"pt-4 pb-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"grid gap-6 mb-6 md:grid-cols-2"},W={class:"mb-3"},J={class:"mb-3"},P={class:"mb-3"},Q={class:"mb-3 grid gap-2 md:grid-cols-2"},R={class:"mb-3 grid gap-2 md:grid-cols-2"},X={ref:"dynamicColumn"},Y={class:"w-full text-sm text-left text-gray-500 mb-4"},Z={scope:"row",class:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap hover:bg-gray-200"},ee={class:"flex"},se={class:"inline"},te={class:"ml-auto"},le={class:"grid gap-6 mb-6 grid-cols-3"},re={class:"col-span-2"},oe={class:"w-full text-sm text-left text-gray-500 mb-4"},ne={scope:"row",class:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap hover:bg-gray-200"},ae={class:"flex"},ie={class:"inline"},ue={class:"ml-auto"},de={class:"grid gap-6 mb-6 grid-cols-3"},me={class:"col-span-2"},be=Object.assign({layout:M},{__name:"BooksCreate",props:{authors:Array,keywords:Array},setup(v){let k=v,s=z({title:"",year_published:null,inventory_number:null,signature:"",number_of_units:null,publisher:"",location_published:"",authors:[],newAuthors:[],keywords:[],newKeywords:[]});const U=()=>{s.post(route("books.store"))};let c=p([]),i=p(k.authors[0]),g=p([]),u=p(k.keywords[0]);const V=n=>{i.value=n},I=n=>{u.value=n};function B(){if(c.value.includes(i.value.name)){alert("Autor "+i.value.name+" je već dodan!");return}c.value.push(i.value.name),i.value.id!=null?s.authors.push(i.value):s.newAuthors.push(i.value.name),y(50)}function L(){if(g.value.includes(u.value.name)){alert("Ključna riječ "+u.value.name+" je već dodana!");return}g.value.push(u.value.name),u.value.id!=null?s.keywords.push(u.value):s.newKeywords.push(u.value.name),y(50)}function O(n){let t=c.value.indexOf(n);c.value.splice(t,1),t=s.authors.findIndex(function(r){return r.name===n}),t>-1?s.authors.splice(t,1):(t=s.newAuthors.indexOf(n),s.newAuthors.splice(t,1)),y(-50)}function $(n){let t=g.value.indexOf(n);g.value.splice(t,1),t=s.keywords.findIndex(function(r){return r.name===n}),t>-1?s.keywords.splice(t,1):(t=s.newKeywords.indexOf(n),s.newKeywords.splice(t,1)),y(-50)}const _=p(null);function y(n){let t=_.value.offsetHeight;_.value.style.height=t+n+"px"}return(n,t)=>(h(),f(x,null,[o(l(D),{title:"Unos knjige"}),o(N,null,{header:j(()=>t[7]||(t[7]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Unos knjige",-1)])),default:j(()=>[e("div",E,[e("div",G,[e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",ref_key:"main",ref:_},[e("form",{onSubmit:F(U,["prevent"])},[e("div",T,[e("div",null,[e("div",W,[o(b,{what:"signature",msg:"Signatura"}),a(e("input",{type:"text",name:"signature",id:"signature","onUpdate:modelValue":t[0]||(t[0]=r=>l(s).signature=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[d,l(s).signature]]),o(m,{class:"mt-2",message:l(s).errors.signature},null,8,["message"])]),e("div",J,[o(b,{what:"title",msg:"Naziv djela"}),a(e("input",{type:"text",name:"title",id:"title","onUpdate:modelValue":t[1]||(t[1]=r=>l(s).title=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[d,l(s).title]]),o(m,{class:"mt-2",message:l(s).errors.title},null,8,["message"])]),e("div",P,[o(b,{what:"publisher",msg:"Izdavač"}),a(e("input",{type:"text",name:"publisher",id:"publisher","onUpdate:modelValue":t[2]||(t[2]=r=>l(s).publisher=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""},null,512),[[d,l(s).publisher]]),o(m,{class:"mt-2",message:l(s).errors.publisher,disabled:l(s).processing},null,8,["message","disabled"])]),e("div",Q,[e("div",null,[o(b,{what:"location_published",msg:"Mjesto izdavanja"}),a(e("input",{type:"text",name:"location_published",id:"location_published","onUpdate:modelValue":t[3]||(t[3]=r=>l(s).location_published=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""},null,512),[[d,l(s).location_published]]),o(m,{class:"mt-2",message:l(s).errors.location_published,disabled:l(s).processing},null,8,["message","disabled"])]),e("div",null,[o(b,{what:"year_published",msg:"Godina izdavanja"}),a(e("input",{type:"number",name:"year_published",id:"year_published","onUpdate:modelValue":t[4]||(t[4]=r=>l(s).year_published=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""},null,512),[[d,l(s).year_published]]),o(m,{class:"mt-2",message:l(s).errors.year_published,disabled:l(s).processing},null,8,["message","disabled"])])]),e("div",R,[e("div",null,[o(b,{what:"inventory_number",msg:"Inventarni broj"}),a(e("input",{type:"number",name:"inventory_number",id:"inventory_number","onUpdate:modelValue":t[5]||(t[5]=r=>l(s).inventory_number=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"",required:""},null,512),[[d,l(s).inventory_number]]),o(m,{class:"mt-2",message:l(s).errors.inventory_number,disabled:l(s).processing},null,8,["message","disabled"])]),e("div",null,[o(b,{what:"number_of_units",msg:"Broj jedinica"}),a(e("input",{type:"number",name:"number_of_units",id:"number_of_units","onUpdate:modelValue":t[6]||(t[6]=r=>l(s).number_of_units=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"",required:""},null,512),[[d,l(s).number_of_units]]),o(m,{class:"mt-2",message:l(s).errors.number_of_units,disabled:l(s).processing},null,8,["message","disabled"])])])]),e("div",X,[e("table",Y,[e("tbody",null,[t[8]||(t[8]=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"}," Autori djela ",-1)),(h(!0),f(x,null,A(l(c),r=>(h(),f("tr",{key:r,class:"bg-white border-b"},[e("th",Z,[e("div",ee,[e("span",null,[e("p",se,w(r),1)]),e("span",te,[o(l(K),{onClick:q=>O(r),class:"h-4 w-4 inline rm-bg"},null,8,["onClick"])])])])]))),128))])]),e("div",le,[e("div",re,[o(S,{what:"autora",content:v.authors,onItemSelected:V},null,8,["content"]),a(e("div",null,w(l(s).errors.authors),513),[[C,l(s).errors.authors||l(s).errors.newAuthors]])]),e("div",{class:"pt-2"},[e("button",{onClick:B,type:"button",class:"py-2 px-3 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 w-full"},"Dodaj autora")])]),e("table",oe,[e("tbody",null,[t[9]||(t[9]=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"}," Ključne riječi ",-1)),(h(!0),f(x,null,A(l(g),r=>(h(),f("tr",{key:r,class:"bg-white border-b"},[e("th",ne,[e("div",ae,[e("span",null,[e("p",ie,w(r),1)]),e("span",ue,[o(l(K),{onClick:q=>$(r),class:"h-4 w-4 inline rm-bg"},null,8,["onClick"])])])])]))),128))])]),e("div",de,[e("div",me,[o(S,{what:"ključnu riječ",content:v.keywords,onItemSelected:I},null,8,["content"]),a(e("div",null,t[10]||(t[10]=[e("p",{class:"text-sm text-red-600 mt-2"}," Morate unijeti minimalno jednu ključnu riječ! ",-1)]),512),[[C,l(s).errors.keywords||l(s).errors.newKeywords]])]),e("div",{class:"pt-2"},[e("button",{onClick:L,type:"button",class:"py-2 px-3 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 w-full"},"Dodaj ključnu riječ")])])],512)]),t[11]||(t[11]=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"},"Kreiraj knjigu",-1))],32)],512)])])]),_:1})],64))}}),ke=H(be,[["__scopeId","data-v-ee2181da"]]);export{ke as default};
