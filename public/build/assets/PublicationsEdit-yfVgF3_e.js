import{C as _,h as k,l as j,x as C,c as a,o as u,a as s,u as i,m as z,w as g,b as t,f as O,i as f,j as x,g as I,M as U,t as y,F as V}from"./app-DOJjKQUX.js";import{_ as N}from"./AuthenticatedLayout-DHqg7U0m.js";import{_ as c}from"./InputError-Bnes0oqH.js";import{C as S}from"./Content-Cb1M-izT.js";import{_ as m}from"./FormInputLabel-CB1r9thj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"pt-4 pb-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},q={class:"grid gap-6 mb-6 md:grid-cols-2"},D={class:"mb-3"},E={key:0},F={class:"w-full bg-gray-200 rounded-full"},P={key:1},T=["href"],A=["src"],G={class:"mt-2"},W=Object.assign({layout:N},{__name:"PublicationsEdit",props:{publication:Object,pdf_icon:String},setup(n){const d=n;let e=_({_method:"patch",title:d.publication.title,description:d.publication.description,publication:null});const h=()=>{e.post(route("publications.update",d.publication.id))};let w=k(()=>"width: "+e.progress.percentage+"%");function v(){window.history.back()}let r=j(!1);const p=()=>{r.value==!0&&(e.publication=null),r.value=!r.value};return C(e,()=>{console.log(e)}),(b,o)=>(u(),a(V,null,[s(i(z),{title:"Izmjena publikacije"}),s(S,null,{header:g(()=>o[4]||(o[4]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Izmjena publikacije",-1)])),default:g(()=>[t("div",$,[t("div",B,[t("div",M,[t("form",{onSubmit:O(h,["prevent"])},[t("div",q,[t("div",null,[t("div",D,[s(m,{what:"title",msg:"Naziv publikacije"}),f(t("input",{type:"text",name:"title",id:"title","onUpdate:modelValue":o[0]||(o[0]=l=>i(e).title=l),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[x,i(e).title]]),s(c,{class:"mt-2",message:i(e).errors.title},null,8,["message"])]),t("div",null,[s(m,{what:"description",msg:"Opis publikacije"}),f(t("input",{type:"text",name:"description",id:"description","onUpdate:modelValue":o[1]||(o[1]=l=>i(e).description=l),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[x,i(e).description]]),s(c,{class:"mt-2",message:i(e).errors.description},null,8,["message"])])]),t("div",null,[i(r)?(u(),a("div",E,[s(m,{what:"name",msg:"Ime autora"}),t("input",{name:"publication",onInput:o[2]||(o[2]=l=>i(e).publication=l.target.files[0]),class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50","aria-describedby":"publication_help",id:"publication",type:"file"},null,32),o[5]||(o[5]=t("p",{class:"mt-1 text-sm text-gray-500",id:"publication_help"},"Odaberite publikaciju u pdf formatu",-1)),t("div",F,[i(e).progress?(u(),a("div",{key:0,class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:U(i(w)),max:"100"},y(i(e).progress.percentage)+"% ",5)):I("",!0)]),t("button",{type:"button",class:"focus:outline-none text-white bg-red-500 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2",onClick:p},"Odustani")])):(u(),a("div",P,[t("a",{href:b.route("publications.show",n.publication.id),target:"_blank",class:"flex flex-col items-center"},[t("img",{class:"h-12 w-12",src:n.pdf_icon,alt:"PostojeÄ‡a publikacija"},null,8,A),t("p",G,y(n.publication.file_name),1)],8,T),t("button",{type:"button",class:"block my-3 py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200",onClick:o[3]||(o[3]=l=>p())},"Izmijeni datoteku")])),s(c,{class:"mt-2",message:i(e).errors.publication},null,8,["message"])])]),t("div",{class:"flex justify-between"},[o[6]||(o[6]=t("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"},"Uredi publikaciju",-1)),t("button",{onClick:v,type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"},"Odustani")])],32)])])])]),_:1})],64))}});export{W as default};
